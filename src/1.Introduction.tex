
\section{Introduction}\label{chap:introduction}

Parallel and distributed computing is a focus at universities and teaching institutions. The interest is two-fold. Firstly, given their role, educators adapt to trends in research and industry and include parallel computing in their curricula, and secondly, parallel computing is an attractive field for department research and industry collaborations. 

While industry-driven collaborations often predefine technological frameworks such as programming environments and targeted architectures, academic teaching leaves this mostly undefined. In this case, educators are exposed to a variety of solutions, approaches and trends in parallel computing. Which particular set to choose for teaching in class is not trivial. While decision factors differ, maximizing the subject relevance by teaching generic principles of parallel programming generically is among the most important ones. 

Teaching generic parallel programming today is difficult. Educators strive to balance considerations of architecture, programming model, and theoretical concepts. Unfortunately, not all architectures support all programming models, nor do programming models offer enough abstractions to support modern hardware architectures sufficiently . Many vendor programming models compound this, requiring students to have access to specific hardware, and limiting the concepts of parallelism to those supported by that hardware. 

Consequently, generic parallel programming models are needed that target mainstream programming languages and allow a vendor- and architecture independent, performance-portable expression of concurrency. In this way, a parallel program written in a popular language becomes capable of running efficiently on parallel computer architectures that conform to a common parallel machine specification. We would like to compare this to the support of Von Neumann architectures in programming languages today. We define an abstract machine model later in this work. The lack of such parallel programming models motivated us to develop Kokkos.

Kokkos\footnote{from Greek for grain or seed}~\cite{KOKKOS}, is a performance-portable, parallel programming model for C++ developed collaboratively between national laboratories as part of the US Department of Energy Exascale Project\cite{ECP}. It consists of a programming model specification and a library. The specification defines execution and memory model and an application programming interface (library API). The runtime library exposes programming primitives, namely, patterns and types and maps them to the underlying abstract machine model. The machine model creates a generic view of compute hardware and memories. The Kokkos library maps execution primitives to vendor-specific programming models, libraries, and memory layouts. Kokkos has been successfully used in many large-scale projects at SNL, University of Utah, Oak-Ridge National Laboratories, Los Alamos National Laboratories and others~\cite{KOKKOSPROJS}. We list its key properties as follows.

\begin{itemize}
\item Parallel programming model for C++
\item Targets an abstract machine model
\item Implements parallel patterns and tasking paradigms
\item Offers abstract data types for performance portability
\item Pure C++ interface through template metaprogramming
\item Aligns with C++ standardization efforts for parallel programming
\item Vendor- and architecture independent and open-source
\item Includes exercises and teaching material
\end{itemize}

The objective of this paper is to present Kokkos from two perspectives. Firstly, we would like to present our thoughts that accompanied the design and development of the Kokkos parallel programming model. These insights may be  useful in parallel programming classes that introduce programming models and reason about design choices.
 
Further, we would like to promote Kokkos to students and educators as a platform that helps them to understand and experiment with parallel patterns in a fashion that is generic, vendor-agnostic and declarative. This means that students can learn about parallelism without being exposed to many architectural concerns and that they can see productivity benefits of such abstractions for performance portability when programming on current and upcoming hardware architectures.

Finally, we would like to present Kokkos to the educational community as one representative parallel programming model for a trend towards portability abstractions. We show a set of types that implement patterns and encapsulate data with enough semantic information to produce performance-portable, parallel code on current architectures. Further, we highlight its alignment and contributions to standardization efforts towards supporting parallel programming in C++.

The rest of this paper is structured as follows. The next Chapter gives an overview on parallel programming concepts and presents the notion of \emph{semantic capture}. Chapter~\ref{chap:kokkosMM} presents the abstract machine model used to derive required semantic information for performance portability in Kokkos. Chapters~\ref{chap:kokkosPM} and ~\ref{chap:kokkosExample} present the Kokkos programming model and an example application. In Chapter~\ref{chap:backend} we provide insight into a Kokkos back-end implementation. Chapters~\ref{chap:related} discusses related work and lastly Chapter~\ref{chap:conclusion} concludes this work.

